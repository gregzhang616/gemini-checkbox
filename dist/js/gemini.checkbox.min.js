!function(e,c){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(c)}(function(e){function c(e,c){var a=[];return Array.from?Array.from(e).slice(c||0):("number"!=typeof c||isNaN(c)||a.push(c),a.slice.apply(e,a))}function a(e){return"object"==typeof e&&e instanceof Array}function l(e){return"string"==typeof e}function t(e){return"boolean"==typeof e}var n=function(c,n){var i=this,s={defaults:{name:"",checklist:"",disabled:null,defaultValue:null,size:"small",onClick:null,onChange:null},init:function(){i=e.extend(!0,i,s.defaults,n||{}),null!==i.defaultValue&&(i.value=i.defaultValue),s.created()},created:function(){var a=s.generateChkDOM();i.$element=e(a).insertAfter(c),i.type=i.$element.hasClass("gmi-check-group")?"group":"single",i.$inputs=i.$element.find('input[type="checkbox"]'),c.hide(),s.cacheCheckItemData(),null!==i.disabled&&s.disableChkItem(),e.isFunction(i.onChange)&&c.on("change.checkbox",i.onChange),null!==i.defaultValue&&s.setValue(i.value),s.bindEvent()},bindEvent:function(){i.$element.on("click.checkbox",function(c){var a=e(c.target),l=a.parents(".gmi-check-label").eq(0),t=i.type,n=a.is("em.gmi-check-label__icon")?a:a.siblings("em.gmi-check-label__icon"),h=a.siblings('input[type="checkbox"]');return!l.hasClass("disabled")&&(!("group"===t&&a.is(".gmi-check-group")||"single"===t&&a.is(".gmi-check-label"))&&(h.prop("checked",!h.prop("checked")),h.prop("checked")?n.addClass("checked"):n.removeClass("checked"),s.changeItem(h),!1))}),e.isFunction(i.onClick)&&c.on("click.checkbox",i.onClick)},generateChkDOM:function(){var c,t,n=i.checklist,s=i.name,h="small"===i.size?"":i.size;if(l(n))t="",t+='<label class="gmi-check-label '+h+'"><input type="checkbox" class="gmi-check-label__chk" name="'+s+'" autocomplete="off"><em class="gmi-check-icon-checked gmi-check-label__icon"></em><span class="gmi-check-label__text">'+n+"</span></label>";else if(a(n)&&n.length>0){var u=n.length;if(t='<div class="gmi-check-group '+h+'">',l(n[0]))for(var o=0;o<u;o++)c=n[o],t+='<label class="gmi-check-label"><input type="checkbox" class="gmi-check-label__chk" name="'+s+'" autocomplete="off" value="'+c+'"><em class="gmi-check-icon-checked gmi-check-label__icon"></em><span class="gmi-check-label__text">'+c+"</span></label>";else if(e.isPlainObject(n[0]))for(var r=0;r<u;r++)c=n[r],t+='<label class="gmi-check-label"><input type="checkbox" class="gmi-check-label__chk" name="'+s+'" autocomplete="off" value="'+c.value+'"><em class="gmi-check-icon-checked gmi-check-label__icon"></em><span class="gmi-check-label__text">'+c.label+"</span></label>"}return t},cacheCheckItemData:function(){var e=i.checklist;if(l(e))i.$inputs.data("dt-chk",e);else if(a(e))for(var c=0;c<e.length;c++){var t=e[c];i.$inputs.eq(c).data("dt-chk",t)}},disableChkItem:function(){var c=i.$inputs,n=i.type,s=void 0===arguments[0]?i.disabled:arguments[0];if(i.$element.find(".gmi-check-label").removeClass("disabled"),t(s)&&"single"===n)s&&c.parents(".gmi-check-label").eq(0).addClass("disabled");else if(a(s)&&s.length>0&&"group"===n)for(var h=0;h<s.length;h++){var u=s[h];c.each(function(){var c,a=e(this).data("dt-chk");l(a)?c=a:e.isPlainObject(a)&&(c=a.value),u===c&&e(this).parents(".gmi-check-label").eq(0).addClass("disabled")})}},triggerEvent:function(a,l){var t=e.Event(a,l);return c.trigger(t),t},changeItem:function(e){var c,t=i.type,n=e.prop("checked");switch(t){case"single":i.value=!!n;break;case"group":if(void 0===i.value&&(i.value=[]),n)l(e.data("dt-chk"))?i.value.push(e.data("dt-chk")):i.value.push(e.data("dt-chk").value);else if(a(i.value)&&i.value.length>0){var h;h=l(e.data("dt-chk"))?i.value.indexOf(e.data("dt-chk")):i.value.indexOf(e.data("dt-chk").value),i.value.splice(h,1)}}c=l(e.data("dt-chk"))?e.data("dt-chk"):e.data("dt-chk").value,s.triggerEvent("click.checkbox",{checkedStatus:n,checkedValue:c,newValue:i.value}),s.triggerEvent("change.checkbox",{newValue:i.value})},setValue:function(){var c,n=i.$element.find('input[type="checkbox"]'),h=arguments[0];"single"===i.type?t(h)&&(c=n.prop("checked",h).siblings("em.gmi-check-label__icon"),h?c.addClass("checked"):c.removeClass("checked")):a(h)&&h.length>0&&n.each(function(){var a,t=e(this),n=t.data("dt-chk");c=t.siblings("em.gmi-check-label__icon"),a=l(n)?n:n.value,h.indexOf(a)!==-1?(t.prop("checked",!0),c.addClass("checked")):(t.prop("checked",!1),c.removeClass("checked"))}),s.triggerEvent("change.checkbox",{newValue:h}),i.value=h},clear:function(){var e=i.type,c="single"!==e&&[];i.$inputs.prop("checked",!1).siblings("em.gmi-check-label__icon").removeClass("checked"),s.triggerEvent("change.checkbox",{newValue:c}),i.value=c}};i.getValue=function(){return i.value},i.setValue=function(e){s.setValue(e)},i.clear=function(){s.clear()},i.disable=function(){var c,a=i.type;if("single"===a)c=void 0===arguments[0]||arguments[0];else{var t=[];i.$inputs.each(function(){var c=e(this).data("dt-chk");l(c)?t.push(c):e.isPlainObject(c)&&t.push(c.value)}),c=void 0===arguments[0]?t:arguments[0]}s.disableChkItem(c)},s.init()};e.fn.checkbox=function(a){var t,i=c(arguments,1),a=a||{},s=this;return s.each(function(){var c,s=e(this).data("checkbox");if(!s){if(/destroy/.test(a))return!1;if(!l(a))return e(this).data("checkbox",s=new n(e(this),a))}s&&l(a)&&e.isFunction(c=s[a])&&(t=c.apply(s,i))}),void 0===t?s:t},Array.prototype.indexOf=function(e,c){var a=-1;c=1*c||0;for(var l=0,t=this.length;l<t;l++)if(l>=c&&this[l]===e){a=l;break}return a}},window.jQuery);